apiVersion: apiconnect.ibm.com/v1beta1
kind: APIConnectCluster
metadata:
  name: api-connect
  namespace: default
  annotations:
    argocd.argoproj.io/sync-wave: "20"
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
labels:
  app.kubernetes.io/instance: apiconnect
  app.kubernetes.io/managed-by: ibm-apiconnect
  app.kubernetes.io/name: apiconnect-small
  namespace: cp4i
spec:
  license:
    accept: true
    license: L-MMBZ-295QZQ
    metric: VIRTUAL_PROCESSOR_CORE
    use: production
  analytics:
    ingestion:
      queue:
        type: persisted
    storage:
      enabled: true
      type: shared
    mtlsValidateClient: true
  portal:
    mtlsValidateClient: true
  profile: n1xc7.m48
  version: 10.0.7.0
  storageClassName: ocs-storagecluster-ceph-rbd